{{- $pullSecretName := printf "pullsecret-%s" $.Values.clusterName }}
{{- $clusterName := $.Values.clusterName }}
{{- $bmcCredentialSecret := printf "bmc-credentials-" $clusterName }}
{{- $imageSet := printf "%s-%s" "openshift-image-set-" $.Values.openshiftVersion }}
{{- range $_, $host := $.Values.hosts }}
---
apiVersion: v1
kind: Secret
type: Opaque
metadata:
  name: {{ printf "%s-%s" "bmc-credential" $host.name }}
  namespace: {{ $clusterName }}
data:
  username: {{ $host.bmcUsername | b64enc }}
  password: {{ $host.bmcPassword | b64enc }}
{{ end }}
